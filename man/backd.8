.\" Copyright (c) 1998 Jean-Marc Pigeon
.\"
.Dd October 20, 1998
.Dt BACKD 1
.Os LINUX
.Sh NAME
.Nm backd
.Nd An autonomous backup daemon
.Sh SYNOPSIS
.Nm backd 
.Op Ar flags
.Nm marker
.Op Ar flags
.Ar device
.Ar size
.Ar tapeid
.Nm reader
.Op Ar flags
.Ar device
.Op Ar tapeid
.Sh DESCRIPTION
.Nm backd
Backd is a 
.Em daemon , 
looking at backup directives and doing
everything as an autonomous process.
.Pp
.Nm backd
is time busy to check 
.Em backup directives
and issue a mail to the
.Em system administrator
requesting to insert a specific tape in a specific tape device.
Once the proper tape is available in the tape device and the backup scheduled
time is reached, then 
.Em backd
proceed with the actual data storage. Tape
.Em Ar rotation
and
.Em Ar scheduling
is done according data found in the configuration files
.Pp
.Nm marker
is a small utility to put a 
.Em identification tag
on the tape, that tag will read by backd to ensure the tape used
is really the one selected for the current backup
.Pp
.Nm reader
is the the utility to read a tape generated by 
.Nm backd 
, its purpose is to check the marker and skip it, sending the tape
contents directly to the standard ouput, then to be piped to an
un-archiver as 
.Ar CPIO 
.Ss backd Parameters
.Bl -tag -width Fl
.It Fl b Ar base
To define the base directory for the
.Ar backd
application, by default 
.Ar /var/lib/backd
is the base directory.
.It Fl d Ar level
To specify the debug level, traces are send to 
.Ar syslogd 
via the LOG_DEBUG entry.
.It Fl h 
To display the backd parameters usage 
.It Fl i Ar identifier
To define the running identifier, needed if you want to have more
than one backd application running on the same system 
(debug, pre-production test, etc...),
by default 
.Ar backd
is the identifier used.
.It Fl n 
To start next scheduled backup without waiting for the proper time to do
it, usefull mainly for debug purpose.
.It Fl v 
to display backd
.Ar version 
number
.It Fl V 
to put backd in
.Ar Verbose
mode, and display messages on
.Ar stderr.
.El
.Ss marker Parameters
.Bl -tag -width Fl
.It Fl f
To force tape marking (usefull in case you want to rename a previously
marked tape).
.It Li tapedev
The physical
.Ar device
(usualy /dev/tape) where the tape is waiting to be marked.
.It Li tapesize
The tape size, that value is inserted in the tape marker 
to ensure the tape is big enough to do the
.Ar scheduled
backup.
.It Li tapeid
This is a
.Ar uniq
string, used by
.Ar backd
to ensure the tape ready to be used is the proper one.
.El
.Ss reader Parameters
.Bl -tag -width Fl
.It Fl m
Read only the tape marker part
.It Li tapedev
Physical tape device where the tape is located
.It Li tapeid
Specify the uniq tape ID, to ensure we are reading the proper tape.
.El
.Sh FILE
.Xr conf/tapedev,
.Xr conf/tapelist ,
.Re
.Sh HISTORY
.Ar backd
was designed as an autonomous backup system for small or medium site, 
human is still requested to exchange tape in the tape device.

